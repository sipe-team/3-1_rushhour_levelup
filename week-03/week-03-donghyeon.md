### 11/11
네이버 DAN 24에서 세션 들었던 것을 가볍게 정리 했습니다~

1. 샤딩 DB 전환 시 고려할만한 점
 Read 트래픽 해결은 다양한 솔루션이 존재한다. (Read Replica,Materialized View)
 구매자 - 판매자 등 유저/파트너 관계가 있을 때 다중 샤딩 DB 고려
2. Event Driven Architecture 적용
장점 :
EDA는 비동기적으로 이벤트를 처리하므로, 갑작스러운 트래픽 증가나 예측하기 어려운 상황에 효과적으로 대응할 수 있다.
Queue 를 활용해 이벤트가 발생할 때 이를 큐에 저장하고, 필요에 따라 처리 속도를 조절 및 우선순위를 통해 시스템 전체의 처리량를  손쉽게 관리할 수 있다.
MSA와 결합하면, 서로 독립적인 서비스가 이벤트를 통해 느슨하게 되기에, 이를 통해 서비스 간 의존성을 줄이고 성능을 극대화할 수 있다.
네이버페이의 주문 및 배송 시스템에 Kafka를 활용하여 EDA를 적용
단점 :
Eventual Consistency(최종적 일관성)에 대한 이해 필요. EDA는 즉각적인 일관성을 보장할 수 없기에 이 부분을 고려해야함.
클라이언트에 동기식 결과 전달 불가
일관된 짧은 지연 시간 보장 어려움
메시지 유실과 중복 가능성이 있음
메시지 추적의 필요성
3. 무중단 결제를 위한 다양한 시도
   1. 비동기 포인트 적립
포인트 적립 실패로 인해 결제를 취소시켜야 하는 경우가 아쉬움
포인트 적립은 결제와 별도로 진행하고, 사용 시에만 동기식 적용
   2. 주문서 대기열
 전체 트래픽 또는 특정 상품 트래픽을 제어하는 대기열 구성
진입 시점(주문서 접근)에서 대기열 적용
   3. 무중단 결제
은행 정기점검 시간 또는 장애시에도 네이버 페이로 계좌/충전 결제가 가능
   4. IDC 이중화 통한 결제 안정성 확보
4. 결제에 특화된 SRE
   1. 결제 거래 패턴 모니터링
   2. 결제 장애 영향 특징
      1. 네이버 외부 생태계에서 사용자는 네이버페이를 기다려주지 않음
장애 종료 시점이 복구 시점이 아니기에 외부 파트너사에서 네이버페이를 제외할 가능성이 있음
      2. 오프라인 같이 즉시성이 요구되는 상황에서는 사용자 품질하락의 폭은 더 큼
      3. 다양한 외부 시스템의 의존적
   3. 원천 시스템 Circuit Breaker
장애 감지 및 장애 점검을 위한 원천사 장애 대응 시스템 구축
장애 감지:
서비스에 비침습적인 형태로 장애 감지를 적용
원천사의 fault detection log를 수집하여 장애 여부를 판단
장애 점검:
장애로 판정 시 장애 점검 테이블에 데이터를 생성
각 어플리케이션에서 장애 점검 테이블을 조회(cache)하여 결제를 차단

### 11/14 
Server-Driven UI (SDUI)란?
- SDUI는 서버가 UI를 동적으로 제어하는 개발 방식. 기존 클라이언트 중심 UI와 달리, SDUI는 서버가 앱의 레이아웃, 데이터, 행동 등을 제어하며 클라이언트는 서버의 명령을 기반으로 UI를 그리는 역할을 함. ex) Airbnb의 Ghost Platform

SDUI의 주요 구성 요소
- 디자인 시스템: UI 일관성을 위한 시각적 규칙 집합으로, 색상, 타이포그래피, 간격 등을 정의하여 전체 UI 스타일 가이드를 제공.
- SDUI JSON: 서버가 클라이언트에게 UI 정보를 전달하기 위해 사용하는 JSON 형식. UI 구성 요소, 레이아웃, 상호작용 등을 정의하여 클라이언트가 이를 해석하고 UI를 렌더링하게 함.
- 렌더러: 클라이언트 측에서 SDUI JSON을 해석하여 UI를 생성하고, 사용자 인터랙션을 처리하며 실시간 업데이트를 반영하는 역할을 수행.
- Page UI: 서버의 SDUI JSON 지시를 기반으로 클라이언트에서 생성되는 최종 UI로, 사용자에게 보이는 화면.
- SDUI 설정 (Config): 각 페이지의 구조와 기본 UI 구성 요소를 정의하고, 정적인 값과 동적인 값의 참조를 설정.
- 데이터 소스: SDUI 시스템에 필요한 정보를 제공하는 데이터베이스나 API와 같은 데이터 소스.
- BFF 계층: 클라이언트와 서버 간의 중간 계층으로, 프론트엔드에 맞춤형 데이터를 제공하고 필요에 따라 비즈니스 로직을 추가함.
https://medium.com/androidiots/mastering-sdui-a-deep-dive-into-server-driven-ui-8329ad90ab44

